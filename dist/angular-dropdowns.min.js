/**
 * @license MIT http://jseppi.mit-license.org/license.html
 */
!function(e,o){"use strict";var d=o.module("ngDropdowns",[]);d.run(["$templateCache",function(e){e.put("ngDropdowns/templates/dropdownSelect.html",['<div ng-class="{\'disabled\': dropdownDisabled}" class="wrap-dd-select" tabindex="0">','<span class="selected">{{dropdownModel[labelField]}}</span>','<ul class="dropdown">','<li ng-repeat="item in dropdownSelect"',' class="dropdown-item"',' dropdown-select-item="item"',' dropdown-item-label="labelField">',"</li>","</ul>","</div>"].join("")),e.put("ngDropdowns/templates/dropdownSelectItem.html",["<li ng-class=\"{divider: (dropdownSelectItem.divider && !dropdownSelectItem[dropdownItemLabel]), 'divider-label': (dropdownSelectItem.divider && dropdownSelectItem[dropdownItemLabel])}\">",'<a href="" class="dropdown-item"',' ng-if="!dropdownSelectItem.divider"',' ng-href="{{dropdownSelectItem.href}}"',' ng-click="selectItem()">',"{{dropdownSelectItem[dropdownItemLabel]}}","</a>",'<span ng-if="dropdownSelectItem.divider">',"{{dropdownSelectItem[dropdownItemLabel]}}","</span>","</li>"].join("")),e.put("ngDropdowns/templates/dropdownMultiSelect.html",['<div ng-class="{\'disabled\': dropdownDisabled}" class="wrap-dd-select" tabindex="0">','<span class="selected">','  <span ng-repeat="item in dropdownModel">{{item[labelField]}}<span ng-if="!$last">, </span></span>',"</span>",'<ul class="dropdown">','<li ng-repeat="(key, item) in dropdownMultiSelect"',' class="dropdown-item"',' dropdown-multi-select-item="item"',' dropdown-item-label="labelField">',"</li>","</ul>","</div>"].join("")),e.put("ngDropdowns/templates/dropdownMultiSelectItem.html",["<li ng-class=\"{divider: (dropdownMultiSelectItem.divider && !dropdownMultiSelectItem[dropdownItemLabel]), 'divider-label': (dropdownMultiSelectItem.divider && dropdownMultiSelectItem[dropdownItemLabel]), selected: $parent.selectedItems[$parent.key]}\">",'<a href="" class="dropdown-item"',' ng-if="!dropdownMultiSelectItem.divider"',' ng-href="{{dropdownMultiSelectItem.href}}"',' ng-click="selectItem()">',"{{dropdownMultiSelectItem[dropdownItemLabel]}}","</a>",'<span ng-if="dropdownMultiSelectItem.divider">',"{{dropdownMultiSelectItem[dropdownItemLabel]}}","</span>","</li>"].join("")),e.put("ngDropdowns/templates/dropdownMenu.html",['<ul class="dropdown">','<li ng-repeat="item in dropdownMenu"',' class="dropdown-item"',' dropdown-item-label="labelField"',' dropdown-menu-item="item">',"</li>","</ul>"].join("")),e.put("ngDropdowns/templates/dropdownMenuItem.html",["<li ng-class=\"{divider: dropdownMenuItem.divider, 'divider-label': dropdownMenuItem.divider && dropdownMenuItem[dropdownItemLabel]}\">",'<a href="" class="dropdown-item"',' ng-if="!dropdownMenuItem.divider"',' ng-href="{{dropdownMenuItem.href}}"',' ng-click="selectItem()">',"{{dropdownMenuItem[dropdownItemLabel]}}","</a>",'<span ng-if="dropdownMenuItem.divider">',"{{dropdownMenuItem[dropdownItemLabel]}}","</span>","</li>"].join("")),e.put("ngDropdowns/templates/dropdownMenuWrap.html",'<div class="wrap-dd-menu" ng-class="{\'disabled\': dropdownDisabled}"></div>')}]),d.directive("dropdownSelect",["DropdownService",function(e){return{restrict:"A",replace:!0,scope:{dropdownSelect:"=",dropdownModel:"=",dropdownItemLabel:"@",dropdownOnchange:"&",dropdownDisabled:"="},controller:["$scope","$element",function(d,t){d.labelField=d.dropdownItemLabel||"text",e.register(t),this.select=function(e){o.equals(e,d.dropdownModel)||(d.dropdownModel=e),d.dropdownOnchange({selected:e}),t[0].blur()},t.bind("click",function(o){o.stopPropagation(),d.dropdownDisabled||e.toggleActive(t)}),d.$on("$destroy",function(){e.unregister(t)})}],templateUrl:"ngDropdowns/templates/dropdownSelect.html"}}]),d.directive("dropdownSelectItem",[function(){return{require:"^dropdownSelect",replace:!0,scope:{dropdownItemLabel:"=",dropdownSelectItem:"="},link:function(e,o,d,t){e.selectItem=function(){e.dropdownSelectItem.href||t.select(e.dropdownSelectItem)}},templateUrl:"ngDropdowns/templates/dropdownSelectItem.html"}}]),d.directive("dropdownMultiSelect",["DropdownService",function(e){return{restrict:"A",replace:!0,scope:{dropdownMultiSelect:"=",dropdownModel:"=",dropdownItemLabel:"@",dropdownOnchange:"&",dropdownDisabled:"="},controller:["$scope","$element",function(d,t){d.labelField=d.dropdownItemLabel||"text",d.selectedItems=[],d.dropdownMultiSelect.forEach(function(e,t){d.selectedItems[t]=!1,d.dropdownModel.forEach(function(n){o.equals(n,e)&&(d.selectedItems[t]=!0)})}),e.register(t),this.select=function(e){if(o.isArray(d.dropdownModel)&&d.dropdownModel.length>0){var n=-1;d.dropdownModel.forEach(function(d,t){o.equals(d,e)&&(n=t)}),n>-1?(d.dropdownModel.splice(n,1),d.selectedItems[d.dropdownMultiSelect.indexOf(e)]=!1):(d.dropdownModel.push(e),d.selectedItems[d.dropdownMultiSelect.indexOf(e)]=!0)}else d.dropdownModel=[],d.dropdownModel.push(e),d.selectedItems[d.dropdownMultiSelect.indexOf(e)]=!0;d.dropdownOnchange({selected:e}),t[0].blur()},t.bind("click",function(o){o.stopPropagation(),d.dropdownDisabled||e.toggleActive(t)}),d.$on("$destroy",function(){e.unregister(t)})}],templateUrl:"ngDropdowns/templates/dropdownMultiSelect.html"}}]),d.directive("dropdownMultiSelectItem",[function(){return{require:"^dropdownMultiSelect",replace:!0,scope:{dropdownItemLabel:"=",dropdownMultiSelectItem:"="},link:function(e,o,d,t){e.selectItem=function(){e.dropdownMultiSelectItem.href||t.select(e.dropdownMultiSelectItem)}},templateUrl:"ngDropdowns/templates/dropdownMultiSelectItem.html"}}]),d.directive("dropdownMenu",["$parse","$compile","DropdownService","$templateCache",function(e,d,t,n){return{restrict:"A",replace:!1,scope:{dropdownMenu:"=",dropdownModel:"=",dropdownItemLabel:"@",dropdownOnchange:"&",dropdownDisabled:"="},controller:["$scope","$element",function(e,l){e.labelField=e.dropdownItemLabel||"text";var r=o.element(n.get("ngDropdowns/templates/dropdownMenu.html"));r.data("$dropdownMenuController",this);var i=d(r)(e),p=d(o.element(n.get("ngDropdowns/templates/dropdownMenuWrap.html")))(e);l.replaceWith(p),p.append(l),p.append(r),t.register(i),this.select=function(d){o.equals(d,e.dropdownModel)||(e.dropdownModel=d),e.dropdownOnchange({selected:d})},l.bind("click",function(o){o.stopPropagation(),e.dropdownDisabled||t.toggleActive(i)}),e.$on("$destroy",function(){t.unregister(i)})}]}}]),d.directive("dropdownMenuItem",[function(){return{require:"^dropdownMenu",replace:!0,scope:{dropdownMenuItem:"=",dropdownItemLabel:"="},link:function(e,o,d,t){e.selectItem=function(){e.dropdownMenuItem.href||t.select(e.dropdownMenuItem)}},templateUrl:"ngDropdowns/templates/dropdownMenuItem.html"}}]),d.factory("DropdownService",["$document",function(e){var d=e.find("body"),t={},n=[];return d.bind("click",function(){o.forEach(n,function(e){e.removeClass("active")})}),t.register=function(e){n.push(e)},t.unregister=function(e){var o;o=n.indexOf(e),o>-1&&n.splice(o,1)},t.toggleActive=function(e){o.forEach(n,function(o){o!==e&&o.removeClass("active")}),e.toggleClass("active")},t.clearActive=function(){o.forEach(n,function(e){e.removeClass("active")})},t.isActive=function(e){return e.hasClass("active")},t}])}(window,window.angular);